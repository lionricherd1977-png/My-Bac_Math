<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ูุฐุงูุฑุฉ ุงูุฃุดุนุฉ ูู ุงููุฑุงุบ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing:border-box; }
    body { font-family:'Cairo',sans-serif; background:#000; color:#fff; margin:0; font-size: 0.95rem; }
    header { text-align:center; padding:15px; background:#111; }
    header h1 { margin:0; font-size:1.1rem; font-weight:600; }
    header h3 { margin:6px 0 0; font-size:1.2rem; font-weight:700; color:#00d4ff; }
    .card { background:#111; border:1px solid #555; border-radius:14px; padding:15px; margin:15px auto; max-width:950px; }
    .row { display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .pill { background:#222; border:1px solid #555; color:#9ad1ff; padding:5px 9px; border-radius:999px; font-weight:700; font-size: 0.85rem; }
    .timer { font-weight:700; color:#e63946; }
    #question-text { font-size:1rem; font-weight:600; margin:10px 0; white-space:pre-line; line-height: 1.6; }
    .btn { display:block; margin:10px auto; padding:10px 14px; width:100%; max-width:650px; font-size:0.95rem; border:none; border-radius:10px; cursor:pointer; background:#ffffff33; color:#fff; font-weight:700; transition:0.25s; }
    .btn:hover { background:#ffffff66; }
    .opt { text-align:right; border: 1px solid #ffffff44; }
    .correct { background-color:#4CAF50 !important; color:#fff !important; }
    .wrong { background-color:#f44336 !important; color:#fff !important; }
    .hidden { display:none; }
    .hint-wrap { display:flex; align-items:center; gap:8px; margin:8px 0 14px; }
    .hint-icon { display:inline-block; background:#00d4ff; color:#000; font-weight:700; border-radius:50%; width:26px; height:26px; text-align:center; line-height:26px; cursor:pointer; user-select:none; font-size: 0.9rem; }
    .hint-box { display:none; background:#1a1a1a; border:1px solid #00d4ff; color:#fff; padding:10px; border-radius:8px; font-size:0.9rem; max-width:800px; white-space:pre-line; }
    .explain-box { display:none; background:#1a1a1a; border:1px solid #2a7; color:#0f0; padding:10px; border-radius:8px; margin-top:12px; line-height:1.7; white-space:pre-line; font-size: 0.9rem; }
    .solution { background:#222; border:1px solid #2a7; color:#0f0; padding:10px; border-radius:8px; display:none; margin-top:10px; line-height:1.7; white-space:pre-line; font-size: 0.9rem; }
    .divider { height:1px; background:#333; margin:14px 0; }
  </style>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']], processEscapes: true },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <header>
    <h1>10 ุฃุณุฆูุฉ ูุคุชูุชุฉ ูู ุงูุฃุดุนุฉ + 5 ุชูุงุฑูู ูุญูููุฉ</h1>
    <h3>ุฅุนุฏุงุฏ ุงููุฏุฑุณ ุตููุงู ุฅุฏุฑูุณ</h3>
  </header>

  <section id="quiz-card" class="card">
    <div class="row">
      <div class="pill">ุงูุณุคุงู: <span id="q-count">โ</span></div>
      <div class="pill timer" id="quiz-timer">โณ 60</div>
    </div>
    <h2 id="question-text">ุงูุณุคุงู ุณูุธูุฑ ููุง</h2>
    <div class="hint-wrap">
      <span id="hint-icon" class="hint-icon" title="ุฅุธูุงุฑ/ุฅุฎูุงุก ุงูุชูููุญ">๐ก</span>
      <div id="hint-box" class="hint-box"></div>
    </div>
    <div id="options-container"></div>
    <div id="explain-box" class="explain-box"></div>
    <button id="next-btn" class="btn hidden">ุงูุชุงูู</button>
  </section>

  <section id="result-card" class="card hidden">
    <h2>๐ ุงูุชูู ุงูุงุฎุชุจุงุฑ</h2>
    <h3 id="score-line">โ</h3>
    <div class="divider"></div>
    <button class="btn" id="to-exercises-btn">ุงูุงูุชูุงู ุฅูู ุงูุชูุงุฑูู</button>
  </section>

  <section id="exercise-card" class="card hidden">
    <h2 id="ex-title">โ</h2>
    <p id="ex-question">โ</p>
    <button class="btn" id="show-solution-btn">ุฅุธูุงุฑ ุงูุญู ุงูููุตู</button>
    <div id="ex-solution" class="solution">โ</div>
    <div class="row">
      <button class="btn" id="next-exercise-btn">ุงูุชูุฑูู ุงูุชุงูู</button>
      <button class="btn hidden" id="finish-btn" onclick="location.reload()">ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ</button>
    </div>
  </section>

<script>
  const questions = [
    {
      q:"ุงุญุณุจ ุงูุฌุฏุงุก ุงูุณููู ููุดุนุงุนูู \\(\\vec{u}(2, -1, 3)\\) ู \\(\\vec{v}(1, 4, 2)\\).",
      a:[4, 10, 8, 2], c:4,
      hint:"\\(\\vec{u} \\cdot \\vec{v} = xx' + yy' + zz'\\).",
      explain:`ุงูุฎุทูุฉ 1: ูุถุฑุจ ุงููุฑูุจุงุช ุงููุชูุงุจูุฉ:
\\((2)(1) + (-1)(4) + (3)(2)\\)
ุงูุฎุทูุฉ 2: ูุญุณุจ ุงููุงุชุฌ:
\\(2 - 4 + 6 = 4\\).`
    },
    {
      q:"ุฅุฐุง ูุงู ุงูุดุนุงุนุงู \\(\\vec{u}(k, 2, -1)\\) ู \\(\\vec{v}(3, 6, -3)\\) ูุฑุชุจุทูู ุฎุทูุงูุ ููุง ูููุฉ \\(k\\)ุ",
      a:[1, 3, 9, 0], c:1,
      hint:"ุชููู ุงููุฑูุจุงุช ูุชูุงุณุจุฉ.",
      explain:`ุงูุฎุทูุฉ 1: ููุชุจ ุงูุชูุงุณุจ: \\(\\frac{k}{3} = \\frac{2}{6} = \\frac{-1}{-3}\\).
ุงูุฎุทูุฉ 2: ูุฌุฏ ุฃู ุงููุณุจุฉ ูู \\(1/3\\)ุ ุฅุฐู \\(k=1\\).`
    },
    {
      q:"ูุง ูู ูุงุธู ุงููุณุชูู ุงูุฐู ูุนุงุฏูุชู \\(3x - 2y + z - 7 = 0\\)ุ",
      a:["\\(\\vec{n}(3, -2, 1)\\)", "\\(\\vec{n}(3, 2, -7)\\)", "\\(\\vec{n}(-3, 2, 1)\\)", "\\(\\vec{n}(3, 2, 1)\\)"], c:"\\(\\vec{n}(3, -2, 1)\\)",
      hint:"ุงููุงุธู ูู ุฃูุซุงู ุงููุชุบูุฑุงุช ูู ูุนุงุฏูุฉ ุงููุณุชูู.",
      explain:`ุงููุงุธู \\(\\vec{n}\\) ูู ุงููุชุฌู ุงููููู ูู ูุนุงููุงุช \\(x, y, z\\).`
    },
    {
      q:"ุงุญุณุจ ุทูููุฉ ุงูุดุนุงุน \\(\\vec{u}(1, -2, 2)\\).",
      a:[3, 9, 5, 4], c:3,
      hint:"\\(|\\vec{u}| = \\sqrt{x^2 + y^2 + z^2}\\).",
      explain:`\\(|\\vec{u}| = \\sqrt{1^2 + (-2)^2 + 2^2} = \\sqrt{1 + 4 + 4} = 3\\).`
    },
    {
      q:"ูููู ุงูุดุนุงุนุงู \\(\\vec{u}\\) ู \\(\\vec{v}\\) ูุชุนุงูุฏูู ุฅุฐุง ูุงู:",
      a:["\\(\\vec{u} \\cdot \\vec{v} = 0\\)", "\\(\\vec{u} = k\\vec{v}\\)", "ุทูููุชููุง ูุชุณุงููุฉ", "ูุฌููุนููุง ูุณุงูู ุงูุตูุฑ"], c:"\\(\\vec{u} \\cdot \\vec{v} = 0\\)",
      hint:"ุงูุชุนุงูุฏ ูุนูู ุฃู ุงูุฒุงููุฉ ูุงุฆูุฉ ูุงูุฌุฏุงุก ุงูุณููู ุตูุฑ.",
      explain:`ุดุฑุท ุชุนุงูุฏ ุดุนุงุนูู ุบูุฑ ูุนุฏูููู ูู ุฃู ูููู ุฌุฏุงุคููุง ุงูุณููู ูุนุฏููุงู.`
    },
    {
      q:"ุฃูุฌุฏ ุฅุญุฏุงุซูุงุช ุงูููุทุฉ \\(I\\) ููุชุตู ุงููุทุนุฉ ุงููุณุชูููุฉ \\(AB\\) ุญูุซ \\(A(2, 4, 0)\\) ู \\(B(4, 0, 6)\\).",
      a:["\\(I(3, 2, 3)\\)", "\\(I(6, 4, 6)\\)", "\\(I(1, 2, 3)\\)", "\\(I(3, 3, 3)\\)"], c:"\\(I(3, 2, 3)\\)",
      hint:"\\(x_I = (x_A+x_B)/2\\).",
      explain:`ูุฌูุน ุงูุฅุญุฏุงุซูุงุช ูููุณู ุนูู 2:
\\(x=(2+4)/2=3\\), \\(y=(4+0)/2=2\\), \\(z=(0+6)/2=3\\).`
    },
    {
      q:"ูุง ููุน ุงููุซูุซ \\(ABC\\) ุฅุฐุง ูุงู \\(\\overrightarrow{AB} \\cdot \\overrightarrow{AC} = 0\\)ุ",
      a:["ูุงุฆู ูู A", "ูุชุณุงูู ุงูุฃุถูุงุน", "ูุงุฆู ูู B", "ูููุฑุฌ ุงูุฒุงููุฉ"], c:"ูุงุฆู ูู A",
      hint:"ุงูุฌุฏุงุก ุงูุณููู ูุณุงูู ุงูุตูุฑ ูุนูู ุชุนุงูุฏ.",
      explain:`ุจูุง ุฃู ุงูุดุนุงุนูู ุงููุฐูู ููุทููุงู ูู ุงูุฑุฃุณ \\(A\\) ูุชุนุงูุฏุงูุ ูุงููุซูุซ ูุงุฆู ูู \\(A\\).`
    },
    {
      q:"ุงููุณุชููู ุงูุฐู ุดุนุงุน ุชูุฌููู \\(\\vec{u}(1, 0, 2)\\) ููุงุฒู:",
      a:["ุงููุญูุฑ Oy", "ุงููุณุชูู yOz", "ุงููุญูุฑ Ox", "ุงููุณุชูู xOz"], c:"ุงููุณุชูู xOz",
      hint:"ูุงุญุธ ุงูุนุฏุงู ุงููุฑูุจุฉ y.",
      explain:`ุจูุง ุฃู ุงููุฑูุจุฉ ุงูุซุงููุฉ (y) ูุนุฏููุฉุ ูุฅู ุงูุดุนุงุน ููุงุฒู ุงููุณุชูู \\(xOz\\).`
    },
    {
      q:"ุงูุจุนุฏ ุจูู ุงูููุทุชูู \\(O(0,0,0)\\) ู \\(A(1, 1, \\sqrt{2})\\) ูู:",
      a:[2, 4, 1, 3], c:2,
      hint:"ุงุณุชุฎุฏู ูุงููู ุงููุณุงูุฉ ุจูู ููุทุชูู.",
      explain:`\\(d = \\sqrt{1^2 + 1^2 + (\\sqrt{2})^2} = \\sqrt{1 + 1 + 2} = \\sqrt{4} = 2\\).`
    },
    {
      q:"ุฃู ูู ุงูุฃุดุนุฉ ุงูุชุงููุฉ ููุซู ูุงุธูุงู ูููุณุชูู \\(z = 5\\)ุ",
      a:["\\(\\vec{n}(0, 0, 1)\\)", "\\(\\vec{n}(1, 1, 1)\\)", "\\(\\vec{n}(5, 5, 5)\\)", "\\(\\vec{n}(1, 0, 0)\\)"], c:"\\(\\vec{n}(0, 0, 1)\\)",
      hint:"ุงููุนุงุฏูุฉ ูู \\(0x + 0y + 1z - 5 = 0\\).",
      explain:`ุฃูุซุงู \\(x, y\\) ูู ุฃุตูุงุฑุ ูุฃูุซุงู \\(z\\) ูู 1.`
    }
  ];

  const exercises = [
    {
      title:"ุชูุฑูู 1 (ุฅุซุจุงุช ุงุณุชูุงูุฉ ูุงุญุฏุฉ)",
      q:`ุงูุณุคุงู: ูุชูู ุงูููุงุท \\(A(1, 2, 3)\\)ุ \\(B(2, 4, 5)\\)ุ \\(C(0, 0, 1)\\).<br>ุฃุซุจุช ุฃู ุงูููุงุท ุชูุน ุนูู ุงุณุชูุงูุฉ ูุงุญุฏุฉ.`,
      sol:`ุงูุฎุทูุฉ 1: ููุฌุฏ ูุฑูุจุงุช ุงูุดุนุงุนูู \\(\\overrightarrow{AB}\\) ู \\(\\overrightarrow{AC}\\).
\\(\\overrightarrow{AB} (1, 2, 2)\\).
\\(\\overrightarrow{AC} (-1, -2, -2)\\).

ุงูุฎุทูุฉ 2: ููุงุญุธ ุฃู \\(\\overrightarrow{AC} = -1 \\cdot \\overrightarrow{AB}\\).

ุงูุฎุทูุฉ 3: ุงูุดุนุงุนุงู ูุฑุชุจุทุงู ุฎุทูุงู ููุดุชุฑูุงู ูู ุงูููุทุฉ \\(A\\)ุ ูุงูููุงุท ุชูุน ุนูู ุงุณุชูุงูุฉ ูุงุญุฏุฉ.`
    },
    {
      title:"ุชูุฑูู 2 (ูุนุงุฏูุฉ ูุณุชูู ุจูุฑูุฒ ูููุทุฉ)",
      q:`ุงูุณุคุงู: ุฃูุฌุฏ ูุนุงุฏูุฉ ุงููุณุชูู ุงููุงุฑ ูู \\(A(1, -1, 0)\\) ูุงููุงุธู ุนููู \\(\\vec{n}(2, 3, 1)\\).`,
      sol:`ุงูุฎุทูุฉ 1: ููุชุจ ุดูู ุงููุนุงุฏูุฉ: \\(a(x-x_A) + b(y-y_A) + c(z-z_A) = 0\\).

ุงูุฎุทูุฉ 2: ูุนูุถ ุงููุงุธู ูุงูููุทุฉ:
\\(2(x-1) + 3(y+1) + 1(z-0) = 0\\).

ุงูุฎุทูุฉ 3: ููุดุฑ ููุจุณุท:
\\(2x - 2 + 3y + 3 + z = 0 \\Rightarrow 2x + 3y + z + 1 = 0\\).`
    },
    {
      title:"ุชูุฑูู 3 (ุชุนุงูุฏ ุฃุดุนุฉ)",
      q:`ุงูุณุคุงู: ูููู ุงูุดุนุงุนุงู \\(\\vec{u}(m, 2, 1)\\) ู \\(\\vec{v}(1, m, -3)\\).<br>ุฃูุฌุฏ ูููุฉ \\(m\\) ููููู ุงูุดุนุงุนุงู ูุชุนุงูุฏูู.`,
      sol:`ุงูุฎุทูุฉ 1: ุดุฑุท ุงูุชุนุงูุฏ ูู \\(\\vec{u} \\cdot \\vec{v} = 0\\).

ุงูุฎุทูุฉ 2: ูุญุณุจ ุงูุฌุฏุงุก ุงูุณููู:
\\(m(1) + 2(m) + 1(-3) = 0\\).

ุงูุฎุทูุฉ 3: ูุญู ุงููุนุงุฏูุฉ:
\\(m + 2m - 3 = 0 \\Rightarrow 3m = 3 \\Rightarrow m = 1\\).`
    },
    {
      title:"ุชูุฑูู 4 (ุจุนุฏ ููุทุฉ ุนู ูุณุชูู)",
      q:`ุงูุณุคุงู: ุงุญุณุจ ุจุนุฏ ุงูููุทุฉ \\(M(1, 2, 3)\\) ุนู ุงููุณุชูู \\(P: x + 2y - 2z + 4 = 0\\).`,
      sol:`ุงูุฎุทูุฉ 1: ูุทุจู ุงููุงููู: \\(d = \\frac{|ax_M + by_M + cz_M + d|}{\\sqrt{a^2 + b^2 + c^2}}\\).

ุงูุฎุทูุฉ 2: ูุนูุถ ุงููุนุทูุงุช:
\\(d = \\frac{|1(1) + 2(2) - 2(3) + 4|}{\\sqrt{1^2 + 2^2 + (-2)^2}}\\).

ุงูุฎุทูุฉ 3: ุงูุญุณุงุจ:
\\(d = \\frac{|1 + 4 - 6 + 4|}{\\sqrt{9}} = \\frac{3}{3} = 1\\).`
    },
    {
      title:"ุชูุฑูู 5 (ุชูุซูู ุจุงุฑุงูุชุฑู)",
      q:`ุงูุณุคุงู: ุงูุชุจ ุชูุซููุงู ุจุงุฑุงูุชุฑูุงู ูููุณุชููู ุงููุงุฑ ูู \\(A(0, 1, 2)\\) ูุงูููุฌู ุจุงูุดุนุงุน \\(\\vec{v}(1, -1, 3)\\).`,
      sol:`ุงูุฎุทูุฉ 1: ุงูุชูุซูู ุงูุจุงุฑุงูุชุฑู ููุชุจ ุจุงูุดูู:
\\(x = x_A + ta\\)
\\(y = y_A + tb\\)
\\(z = z_A + tc\\)

ุงูุฎุทูุฉ 2: ูุนูุถ ุงูููู:
\\(x = 0 + 1t = t\\)
\\(y = 1 - 1t = 1 - t\\)
\\(z = 2 + 3t\\)
ุญูุซ \\(t\\) ูุณูุท ุญูููู.`
    }
  ];

  let qIdx = 0, score = 0, quizTimer, qSec = 60, answered = false;

  function startQuizTimer() {
    clearInterval(quizTimer);
    qSec = 60;
    document.getElementById("quiz-timer").textContent = "โณ " + qSec;
    quizTimer = setInterval(() => {
      qSec--;
      document.getElementById("quiz-timer").textContent = "โณ " + qSec;
      if (qSec <= 0) {
        clearInterval(quizTimer);
        revealCorrect();
      }
    }, 1000);
  }

  function loadQuestion() {
    answered = false;
    document.getElementById("next-btn").classList.add("hidden");
    const q = questions[qIdx];
    document.getElementById("q-count").textContent = (qIdx + 1) + " / " + questions.length;
    document.getElementById("question-text").innerHTML = q.q;
    const hintBox = document.getElementById("hint-box");
    hintBox.style.display = "none";
    hintBox.innerHTML = q.hint;
    const container = document.getElementById("options-container");
    container.innerHTML = "";
    const shuffledOptions = [...q.a].sort(() => Math.random() - 0.5);
    shuffledOptions.forEach(opt => {
      const b = document.createElement("button");
      b.className = "btn opt";
      b.textContent = String(opt);
      b.onclick = () => checkAnswer(opt, q.c, b);
      container.appendChild(b);
    });
    document.getElementById("explain-box").style.display = "none";
    startQuizTimer();
    if (window.MathJax) MathJax.typesetPromise();
  }

  function revealCorrect() {
    const q = questions[qIdx];
    document.querySelectorAll(".opt").forEach(btn => {
      if (btn.textContent == String(q.c)) btn.classList.add("correct");
      btn.disabled = true;
    });
    document.getElementById("next-btn").classList.remove("hidden");
    const explain = document.getElementById("explain-box");
    explain.style.display = "block";
    explain.innerHTML = q.explain.split("\n").map(line => `<p>${line}</p>`).join("");
    if (window.MathJax) MathJax.typesetPromise();
  }

  function checkAnswer(selected, correct, btn) {
    if (answered) return;
    answered = true;
    clearInterval(quizTimer);
    if (String(selected) === String(correct)) { score++; btn.classList.add("correct"); }
    else { btn.classList.add("wrong"); }
    revealCorrect();
  }

  function showResult() {
    document.getElementById("quiz-card").classList.add("hidden");
    document.getElementById("result-card").classList.remove("hidden");
    document.getElementById("score-line").textContent = `ูุชูุฌุชู: ${score} / ${questions.length}`;
  }

  document.getElementById("next-btn").onclick = () => {
    qIdx++;
    if (qIdx < questions.length) loadQuestion();
    else showResult();
  };

  document.getElementById("hint-icon").onclick = () => {
    const box = document.getElementById("hint-box");
    box.style.display = box.style.display === "block" ? "none" : "block";
  };

  let exIdx = 0;
  document.getElementById("to-exercises-btn").onclick = () => {
    document.getElementById("result-card").classList.add("hidden");
    document.getElementById("exercise-card").classList.remove("hidden");
    loadExercise();
  };

  function loadExercise() {
    const ex = exercises[exIdx];
    document.getElementById("ex-title").innerHTML = ex.title;
    document.getElementById("ex-question").innerHTML = ex.q;
    const solBox = document.getElementById("ex-solution");
    solBox.innerHTML = ex.sol.split("\n").map(line => `<p>${line}</p>`).join("");
    solBox.style.display = "none";
    if (window.MathJax) MathJax.typesetPromise();
  }

  document.getElementById("show-solution-btn").onclick = () => {
    document.getElementById("ex-solution").style.display = "block";
    if (window.MathJax) MathJax.typesetPromise();
  };

  document.getElementById("next-exercise-btn").onclick = () => {
    exIdx++;
    if (exIdx < exercises.length) loadExercise();
    else {
      document.getElementById("next-exercise-btn").classList.add("hidden");
      document.getElementById("finish-btn").classList.remove("hidden");
    }
  };

  loadQuestion();
</script>
</body>
</html>
