<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ø®ØªØ¨Ø§Ø± Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ§Øª - Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¯Ø±Ø³ ØµÙÙˆØ§Ù† Ø¥Ø¯Ø±ÙŠØ³</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing:border-box; }
    body { font-family:'Cairo',sans-serif; background:#000; color:#fff; margin:0; }
    header { text-align:center; padding:20px; background:#111; }
    header h1 { margin:0; font-size:1.2rem; font-weight:600; }
    header h3 { margin:8px 0 0; font-size:1.3rem; font-weight:700; color:#00d4ff; }
    .card { background:#111; border:1px solid #555; border-radius:14px; padding:20px; margin:20px auto; max-width:950px; }
    .row { display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .pill { background:#222; border:1px solid #555; color:#9ad1ff; padding:6px 10px; border-radius:999px; font-weight:700; }
    .timer { font-weight:700; color:#e63946; }
    #question-text { font-size:1.1rem; font-weight:600; margin:10px 0; white-space:pre-line; }
    .btn { display:block; margin:10px auto; padding:12px 16px; width:100%; max-width:650px; font-size:1rem; border:none; border-radius:10px; cursor:pointer; background:#ffffff33; color:#fff; font-weight:700; transition:0.25s; }
    .btn:hover { background:#ffffff66; }
    .opt { text-align:right; }
    .correct { background-color:#4CAF50 !important; color:#fff !important; }
    .wrong { background-color:#f44336 !important; color:#fff !important; }
    .hidden { display:none; }
    .hint-wrap { display:flex; align-items:center; gap:8px; margin:8px 0 14px; }
    .hint-icon { display:inline-block; background:#00d4ff; color:#000; font-weight:700; border-radius:50%; width:28px; height:28px; text-align:center; line-height:28px; cursor:pointer; user-select:none; }
    .hint-box { display:none; background:#1a1a1a; border:1px solid #00d4ff; color:#fff; padding:10px; border-radius:8px; font-size:1rem; max-width:800px; white-space:pre-line; }
    .explain-box { display:none; background:#1a1a1a; border:1px solid #2a7; color:#0f0; padding:12px; border-radius:8px; margin-top:12px; line-height:1.9; white-space:pre-line; }
    .solution { background:#222; border:1px solid #2a7; color:#0f0; padding:12px; border-radius:8px; display:none; margin-top:10px; line-height:1.9; white-space:pre-line; }
    .divider { height:1px; background:#333; margin:16px 0; }
  </style>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']], processEscapes: true },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <header>
    <h1>Ù†Ù‡Ø§ÙŠØ© Ù…ØªØªØ§Ù„ÙŠØ© 1</h1>
    <h3>Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¯Ø±Ø³ ØµÙÙˆØ§Ù† Ø¥Ø¯Ø±ÙŠØ³</h3>
  </header>

  <section id="quiz-card" class="card">
    <div class="row">
      <div class="pill">Ø§Ù„Ø³Ø¤Ø§Ù„: <span id="q-count">â€”</span></div>
      <div class="pill timer" id="quiz-timer">â³ 60</div>
    </div>
    <h2 id="question-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>
    <div class="hint-wrap">
      <span id="hint-icon" class="hint-icon">ğŸ’¡</span>
      <div id="hint-box" class="hint-box"></div>
    </div>
    <div id="options-container"></div>
    <div id="explain-box" class="explain-box"></div>
    <button id="next-btn" class="btn hidden">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </section>

  <section id="result-card" class="card hidden">
    <h2>ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
    <h3 id="score-line">â€”</h3>
    <div class="divider"></div>
    <button class="btn" id="to-exercises-btn">Ø¹Ø±Ø¶ 5 ØªÙ…Ø§Ø±ÙŠÙ† Ù…Ø­Ù„ÙˆÙ„Ø© ØªÙØµÙŠÙ„ÙŠØ§Ù‹</button>
  </section>

  <section id="exercise-card" class="card hidden">
    <h2 id="ex-title">â€”</h2>
    <div id="ex-question" style="font-size:1.1rem; margin-bottom:15px;">â€”</div>
    <button class="btn" id="show-solution-btn">Ø¹Ø±Ø¶ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ù„</button>
    <div id="ex-solution" class="solution"></div>
    <div class="row" style="margin-top:20px;">
      <button class="btn" id="next-exercise-btn">Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„ØªØ§Ù„ÙŠ</button>
      <button class="btn hidden" id="finish-btn" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
    </div>
  </section>

<script>
  const questions = [
    {
      q: "Ù…Ø§ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©: \\(u_n = \\frac{3n - 2}{n + 4}\\)ØŸ",
      a: ["3", "1", "0", "âˆ"], c: "3",
      hint: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¨Ø³Ø· ØªØ³Ø§ÙˆÙŠ Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…Ù‚Ø§Ù…ØŒ Ù†Ø£Ø®Ø° Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ù…Ø«Ø§Ù„.",
      explain: "Ù†Ø£Ø®Ø° Ø£Ø¹Ù„Ù‰ Ù‚ÙˆØ© ÙÙŠ Ø§Ù„Ø¨Ø³Ø· ÙˆØ£Ø¹Ù„Ù‰ Ù‚ÙˆØ© ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù…:\n\\(\\lim_{n \\to \\infty} \\frac{3n}{n} = 3\\)."
    },
    {
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ©: \\(u_n = \\frac{2n^2 + 1}{n^2 - 5}\\)",
      a: ["2", "1", "0.5", "0"], c: "2",
      hint: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¨Ø³Ø· ØªØ³Ø§ÙˆÙŠ Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…Ù‚Ø§Ù…ØŒ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ù…Ø«Ø§Ù„.",
      explain: "Ø£Ù…Ø«Ø§Ù„ nÂ² ÙÙŠ Ø§Ù„Ø¨Ø³Ø· Ù‡ÙŠ 2ØŒ ÙˆÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù… Ù‡ÙŠ 1.\nØ¥Ø°Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ \\(2/1 = 2\\)."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© \\(u_n = \\frac{10}{n^2 + 1}\\) Ù‡ÙŠ:",
      a: ["0", "10", "1", "âˆ"], c: "0",
      hint: "Ø¹Ø¯Ø¯ Ù…Ù‚Ø³ÙˆÙ… Ø¹Ù„Ù‰ Ù„Ø§Ù†Ù‡Ø§ÙŠØ© ÙŠØ³Ø§ÙˆÙŠ ØµÙØ±.",
      explain: "Ø¨Ù…Ø§ Ø£Ù† Ø§Ù„Ù…Ù‚Ø§Ù… ÙŠØ³Ø¹Ù‰ Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ© ÙˆØ§Ù„Ø¨Ø³Ø· Ø«Ø§Ø¨ØªØŒ ÙØ¥Ù† Ø§Ù„ÙƒØ³Ø± ÙŠØ³Ø¹Ù‰ Ù„Ù„ØµÙØ±."
    },
    {
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©: \\(u_n = \\frac{n^3}{n^2 + 1}\\)",
      a: ["âˆ", "0", "1", "ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©"], c: "âˆ",
      hint: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¨Ø³Ø· Ø£ÙƒØ¨Ø± Ù…Ù† Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…Ù‚Ø§Ù….",
      explain: "Ø¨Ù…Ø§ Ø£Ù† Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¨Ø³Ø· (3) Ø£ÙƒØ¨Ø± Ù…Ù† Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…Ù‚Ø§Ù… (2)ØŒ ÙØ¥Ù† Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© ØªØªØ¨Ø§Ø¹Ø¯ Ù†Ø­Ùˆ Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©."
    },
    {
      q: "Ù…Ø§ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©: \\(u_n = \\frac{\\sin(n)}{n}\\)ØŸ",
      a: ["0", "1", "ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©", "-1"], c: "0",
      hint: "Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¨Ø±Ù‡Ù†Ø© Ø§Ù„Ø¥Ø­Ø§Ø·Ø© (Ø§Ù„ØªØ­ØµÙŠØ±).",
      explain: "Ø¨Ù…Ø§ Ø£Ù† \\(-1 \\leq \\sin(n) \\leq 1\\)ØŒ ÙØ¥Ù† \\(\\frac{-1}{n} \\leq u_n \\leq \\frac{1}{n}\\).\nÙƒÙ„Ø§ Ø§Ù„Ø·Ø±ÙÙŠÙ† ÙŠØ³Ø¹Ù‰ Ù„Ù„ØµÙØ±ØŒ Ø¥Ø°Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØµÙØ±."
    },
    {
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ©: \\(u_n = \\sqrt{n+1} - \\sqrt{n}\\)",
      a: ["0", "1", "âˆ", "0.5"], c: "0",
      hint: "Ø§Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚ Ù„Ù„ØªØ®Ù„Øµ Ù…Ù† Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… Ø§Ù„ØªØ¹ÙŠÙŠÙ†.",
      explain: "Ø¨Ø¹Ø¯ Ø§Ù„Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ØªØµØ¨Ø­: \\(\\frac{1}{\\sqrt{n+1}+\\sqrt{n}}\\).\nØ¨Ù…Ø§ Ø£Ù† Ø§Ù„Ù…Ù‚Ø§Ù… ÙŠØ³Ø¹Ù‰ Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©ØŒ ÙØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ 0."
    },
    {
      q: "Ø¥Ø°Ø§ ÙƒØ§Ù†Øª \\(u_n = 5 + (0.2)^n\\)ØŒ ÙØ¥Ù† Ù†Ù‡Ø§ÙŠØªÙ‡Ø§:",
      a: ["5", "5.2", "0", "âˆ"], c: "5",
      hint: "Ø£ÙŠ Ø¹Ø¯Ø¯ Ù…Ø­ØµÙˆØ± Ø¨ÙŠÙ† -1 Ùˆ 1 Ù…Ø±ÙÙˆØ¹ Ù„Ù„Ù‚ÙˆØ© n ÙŠØ³Ø¹Ù‰ Ù„Ù„ØµÙØ±.",
      explain: "Ø¨Ù…Ø§ Ø£Ù† \\(0.2 < 1\\)ØŒ ÙØ¥Ù† \\((0.2)^n \\to 0\\).\nØªØ¨Ù‚Ù‰ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© \\(5 + 0 = 5\\)."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© Ø§Ù„Ø«Ø§Ø¨ØªØ© \\(u_n = \\sqrt{2}\\) Ù‡ÙŠ:",
      a: ["\\(\\sqrt{2}\\)", "0", "âˆ", "1"], c: "\\(\\sqrt{2}\\)",
      hint: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø«Ø§Ø¨Øª Ù‡Ùˆ Ø§Ù„Ø«Ø§Ø¨Øª Ù†ÙØ³Ù‡.",
      explain: "Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© Ù„Ø§ ØªØªØºÙŠØ± Ø¨ØªØºÙŠØ± nØŒ Ù„Ø°Ø§ Ù†Ù‡Ø§ÙŠØªÙ‡Ø§ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù‡ÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø«Ø§Ø¨Øª Ù†ÙØ³Ù‡."
    },
    {
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ©: \\(u_n = \\frac{n^2 + n}{n^2}\\)",
      a: ["1", "0", "âˆ", "2"], c: "1",
      hint: "ÙˆØ²Ø¹ Ø§Ù„Ø¨Ø³Ø· Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‚Ø§Ù… Ø£Ùˆ Ø®Ø° Ù†Ø³Ø¨Ø© Ø§Ù„Ø£Ù…Ø«Ø§Ù„.",
      explain: "\\(u_n = \\frac{n^2}{n^2} + \\frac{n}{n^2} = 1 + \\frac{1}{n}\\).\nØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ \\(1 + 0 = 1\\)."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© \\(u_n = \\frac{2^n}{3^n}\\) Ù‡ÙŠ:",
      a: ["0", "1", "âˆ", "2/3"], c: "0",
      hint: "Ø§ÙƒØªØ¨Ù‡Ø§ Ø¨ØµÙŠØºØ© \\((2/3)^n\\).",
      explain: "Ø¨Ù…Ø§ Ø£Ù† \\(2/3 < 1\\)ØŒ ÙØ¥Ù† Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ØªØ³Ø¹Ù‰ Ù„Ù„ØµÙØ±."
    }
  ];

  const exercises = [
    {
      title: "ØªÙ…Ø±ÙŠÙ† 1: Ù…Ø¬Ù…ÙˆØ¹ Ù…ØªØªØ§Ù„ÙŠØ© Ø­Ø³Ø§Ø¨ÙŠØ©",
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ© \\(u_n = \\frac{1+2+3+...+n}{n^2}\\).",
      sol: "1. Ù†Ø¹Ù„Ù… Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø£ÙˆÙ„ n Ø¹Ø¯Ø¯ Ø·Ø¨ÙŠØ¹ÙŠ Ù‡Ùˆ \\(S = \\frac{n(n+1)}{2}\\).\n2. ØªØµØ¨Ø­ Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ© \\(u_n = \\frac{n^2+n}{2n^2}\\).\n3. Ù†Ø£Ø®Ø° Ø£Ø¹Ù„Ù‰ Ù‚ÙˆØ©: \\(\\lim \\frac{n^2}{2n^2} = \\frac{1}{2} = 0.5\\)."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 2: Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©",
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ© \\(u_n = \\frac{5^n + 4^n}{5^n - 4^n}\\).",
      sol: "1. Ù†Ø®Ø±Ø¬ \\(5^n\\) Ø¹Ø§Ù…Ù„Ø§Ù‹ Ù…Ø´ØªØ±ÙƒØ§Ù‹ Ù…Ù† Ø§Ù„Ø¨Ø³Ø· ÙˆØ§Ù„Ù…Ù‚Ø§Ù….\n2. \\(u_n = \\frac{5^n(1 + (4/5)^n)}{5^n(1 - (4/5)^n)}\\).\n3. Ø¨Ù…Ø§ Ø£Ù† \\(4/5 < 1\\)ØŒ ÙØ¥Ù† \\((4/5)^n \\to 0\\).\n4. Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ \\(\\frac{1+0}{1-0} = 1\\)."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 3: Ù…Ø¨Ø±Ù‡Ù†Ø© Ø§Ù„Ø¥Ø­Ø§Ø·Ø©",
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ© \\(u_n = \\frac{n + \\cos(n)}{n}\\).",
      sol: "1. Ù†ÙØ±Ù‚ Ø§Ù„ÙƒØ³Ø±: \\(u_n = \\frac{n}{n} + \\frac{\\cos(n)}{n}\\).\n2. ØªØµØ¨Ø­ \\(u_n = 1 + \\frac{\\cos(n)}{n}\\).\n3. Ù†Ø¹Ù„Ù… Ø£Ù† \\(\\frac{\\cos(n)}{n} \\to 0\\) Ø­Ø³Ø¨ Ù…Ø¨Ø±Ù‡Ù†Ø© Ø§Ù„Ø¥Ø­Ø§Ø·Ø©.\n4. Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ \\(1 + 0 = 1\\)."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 4: Ø§Ù„Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚",
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ© \\(u_n = \\sqrt{n^2+3n} - n\\).",
      sol: "1. Ù†Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚: \\(\\frac{(\\sqrt{n^2+3n}-n)(\\sqrt{n^2+3n}+n)}{\\sqrt{n^2+3n}+n}\\).\n2. Ø§Ù„Ø¨Ø³Ø· ÙŠØµØ¨Ø­: \\(n^2+3n - n^2 = 3n\\).\n3. Ø¨Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ n Ù†Ø¬Ø¯ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ \\(\\frac{3}{1+1} = 1.5\\)."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 5: Ø¥Ø®Ø±Ø§Ø¬ Ø¹Ø§Ù…Ù„ Ù…Ø´ØªØ±Ùƒ",
      q: "Ø§Ø¯Ø±Ø³ Ù†Ù‡Ø§ÙŠØ© \\(u_n = n - \\sqrt{n}\\).",
      sol: "1. Ù†Ø®Ø±Ø¬ n Ø¹Ø§Ù…Ù„Ø§Ù‹ Ù…Ø´ØªØ±ÙƒØ§Ù‹: \\(u_n = n(1 - \\frac{\\sqrt{n}}{n})\\).\n2. ØªØµØ¨Ø­ \\(u_n = n(1 - \\frac{1}{\\sqrt{n}})\\).\n3. Ø¹Ù†Ø¯Ù…Ø§ ØªØ³Ø¹Ù‰ n Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©ØŒ ÙØ¥Ù† \\(1/\\sqrt{n} \\to 0\\).\n4. Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ \\(\\infty \\cdot 1 = \\infty\\)."
    }
  ];

  let qIdx = 0, score = 0, quizTimer, qSec = 60, answered = false;

  function startQuizTimer() {
    clearInterval(quizTimer);
    qSec = 60;
    document.getElementById("quiz-timer").textContent = "â³ " + qSec;
    quizTimer = setInterval(() => {
      qSec--;
      document.getElementById("quiz-timer").textContent = "â³ " + qSec;
      if (qSec <= 0) { clearInterval(quizTimer); revealCorrect(); }
    }, 1000);
  }

  function loadQuestion() {
    answered = false;
    document.getElementById("next-btn").classList.add("hidden");
    const q = questions[qIdx];
    document.getElementById("q-count").textContent = (qIdx + 1) + " / " + questions.length;
    document.getElementById("question-text").innerHTML = q.q;
    document.getElementById("hint-box").style.display = "none";
    document.getElementById("hint-box").innerHTML = q.hint;
    const container = document.getElementById("options-container");
    container.innerHTML = "";
    
    // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø§Ù„ØªØ±ØªÙŠØ¨
    const shuffledOptions = [...q.a].sort(() => Math.random() - 0.5);
    
    shuffledOptions.forEach(opt => {
      const b = document.createElement("button");
      b.className = "btn opt";
      b.textContent = opt;
      b.onclick = () => checkAnswer(opt, q.c, b);
      container.appendChild(b);
    });
    document.getElementById("explain-box").style.display = "none";
    startQuizTimer();
    if (window.MathJax) MathJax.typesetPromise();
  }

  function checkAnswer(selected, correct, btn) {
    if (answered) return;
    answered = true;
    clearInterval(quizTimer);
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ù†ØµÙŠØ© Ø¨Ø¯Ù‚Ø© Ù„Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©
    if (String(selected).trim() === String(correct).trim()) {
      score++;
      btn.classList.add("correct");
    } else {
      btn.classList.add("wrong");
    }
    revealCorrect();
  }

  function revealCorrect() {
    const q = questions[qIdx];
    document.querySelectorAll(".opt").forEach(btn => {
      btn.disabled = true;
      if (String(btn.textContent).trim() === String(q.c).trim()) {
        btn.classList.add("correct");
      }
    });
    const exp = document.getElementById("explain-box");
    exp.innerHTML = "<strong>ØªÙˆØ¶ÙŠØ­ Ø§Ù„Ø­Ù„:</strong><br>" + q.explain.replace(/\n/g, "<br>");
    exp.style.display = "block";
    document.getElementById("next-btn").classList.remove("hidden");
    if (window.MathJax) MathJax.typesetPromise();
  }

  document.getElementById("next-btn").onclick = () => {
    qIdx++;
    if (qIdx < questions.length) loadQuestion();
    else showResult();
  };

  function showResult() {
    document.getElementById("quiz-card").classList.add("hidden");
    document.getElementById("result-card").classList.remove("hidden");
    document.getElementById("score-line").textContent = `Ø¯Ø±Ø¬ØªÙƒ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©: ${score} Ù…Ù† ${questions.length}`;
  }

  document.getElementById("hint-icon").onclick = () => {
    const box = document.getElementById("hint-box");
    box.style.display = box.style.display === "block" ? "none" : "block";
  };

  let exIdx = 0;
  document.getElementById("to-exercises-btn").onclick = () => {
    document.getElementById("result-card").classList.add("hidden");
    document.getElementById("exercise-card").classList.remove("hidden");
    loadExercise();
  };

  function loadExercise() {
    const ex = exercises[exIdx];
    document.getElementById("ex-title").innerHTML = ex.title;
    document.getElementById("ex-question").innerHTML = ex.q;
    const sol = document.getElementById("ex-solution");
    sol.innerHTML = ex.sol.replace(/\n/g, "<br>");
    sol.style.display = "none";
    if (window.MathJax) MathJax.typesetPromise();
  }

  document.getElementById("show-solution-btn").onclick = () => {
    document.getElementById("ex-solution").style.display = "block";
    if (window.MathJax) MathJax.typesetPromise();
  };

  document.getElementById("next-exercise-btn").onclick = () => {
    exIdx++;
    if (exIdx < exercises.length) loadExercise();
    else {
      document.getElementById("next-exercise-btn").classList.add("hidden");
      document.getElementById("finish-btn").classList.remove("hidden");
    }
  };

  loadQuestion();
</script>
</body>
</html>
