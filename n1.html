<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§ÙŠØ§Øª - Ø§Ù„Ù…Ø¯Ø±Ø³ ØµÙÙˆØ§Ù† Ø¥Ø¯Ø±ÙŠØ³</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing:border-box; }
    body { font-family:'Cairo',sans-serif; background:#000; color:#fff; margin:0; }
    header { text-align:center; padding:20px; background:#111; }
    header h1 { margin:0; font-size:1.2rem; font-weight:600; }
    header h3 { margin:8px 0 0; font-size:1.3rem; font-weight:700; color:#00d4ff; }
    .card { background:#111; border:1px solid #555; border-radius:14px; padding:20px; margin:20px auto; max-width:950px; }
    .row { display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .pill { background:#222; border:1px solid #555; color:#9ad1ff; padding:6px 10px; border-radius:999px; font-weight:700; }
    .timer { font-weight:700; color:#e63946; }
    #question-text { font-size:1.1rem; font-weight:600; margin:10px 0; white-space:pre-line; }
    .btn { display:block; margin:10px auto; padding:12px 16px; width:100%; max-width:650px; font-size:1rem; border:none; border-radius:10px; cursor:pointer; background:#ffffff33; color:#fff; font-weight:700; transition:0.25s; }
    .btn:hover { background:#ffffff66; }
    .opt { text-align:right; }
    .correct { background-color:#4CAF50 !important; color:#fff !important; border: 1px solid #fff; }
    .wrong { background-color:#f44336 !important; color:#fff !important; }
    .hidden { display:none; }
    .hint-wrap { display:flex; align-items:center; gap:8px; margin:8px 0 14px; }
    .hint-icon { display:inline-block; background:#00d4ff; color:#000; font-weight:700; border-radius:50%; width:28px; height:28px; text-align:center; line-height:28px; cursor:pointer; user-select:none; }
    .hint-box { display:none; background:#1a1a1a; border:1px solid #00d4ff; color:#fff; padding:10px; border-radius:8px; font-size:1rem; max-width:800px; white-space:pre-line; }
    .explain-box { display:none; background:#1a1a1a; border:1px solid #2a7; color:#0f0; padding:12px; border-radius:8px; margin-top:12px; line-height:1.9; white-space:pre-line; }
    .solution { background:#222; border:1px solid #2a7; color:#0f0; padding:12px; border-radius:8px; display:none; margin-top:10px; line-height:1.9; white-space:pre-line; }
  </style>
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']], processEscapes: true },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <header>
    <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§ÙŠØ§Øª 1</h1>
    <h3>Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¯Ø±Ø³ ØµÙÙˆØ§Ù† Ø¥Ø¯Ø±ÙŠØ³</h3>
  </header>

  <section id="quiz-card" class="card">
    <div class="row">
      <div class="pill">Ø§Ù„Ø³Ø¤Ø§Ù„: <span id="q-count">â€”</span></div>
      <div class="pill timer" id="quiz-timer">â³ 60</div>
    </div>
    <h2 id="question-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ§Ø¨Ø¹...</h2>
    <div class="hint-wrap">
      <span id="hint-icon" class="hint-icon">ğŸ’¡</span>
      <div id="hint-box" class="hint-box"></div>
    </div>
    <div id="options-container"></div>
    <div id="explain-box" class="explain-box"></div>
    <button id="next-btn" class="btn hidden">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ</button>
  </section>

  <section id="result-card" class="card hidden">
    <h2>ğŸ‰ Ø£Ø­Ø³Ù†Øª! Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
    <h3 id="score-line">â€”</h3>
    <button class="btn" id="to-exercises-btn">Ø¹Ø±Ø¶ Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù€ 5 Ø§Ù„Ù…Ø­Ù„ÙˆÙ„Ø©</button>
  </section>

  <section id="exercise-card" class="card hidden">
    <h2 id="ex-title">â€”</h2>
    <div id="ex-question" style="font-size:1.1rem; margin-bottom:15px;">â€”</div>
    <button class="btn" id="show-solution-btn">Ø¥Ø¸Ù‡Ø§Ø± Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ù„</button>
    <div id="ex-solution" class="solution"></div>
    <div class="row" style="margin-top:20px;">
      <button class="btn" id="next-exercise-btn">Ø§Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„ØªØ§Ù„ÙŠ</button>
      <button class="btn hidden" id="finish-btn" onclick="location.reload()">Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</button>
    </div>
  </section>

<script>
  // 10 Ø£Ø³Ø¦Ù„Ø© Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠØ§ Ø³ÙˆØ±ÙŠØ§ - Ù†Ù‡Ø§ÙŠØ§Øª (ÙƒØ³Ø±ÙŠØŒ Ø¬Ø°Ø±ÙŠØŒ Ù…Ø«Ù„Ø«ÙŠ)
  const questions = [
    {
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹: \\(f(x) = \\frac{\\sqrt{x+1}-1}{x}\\) Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ±.",
      a: ["0.5", "0", "1", "-1"], c: "0.5",
      hint: "Ø§Ø¶Ø±Ø¨ Ø¨Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø¨Ø³Ø·.",
      explain: "Ø¨Ø§Ù„Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚: \\(\\frac{x+1-1}{x(\\sqrt{x+1}+1)} = \\frac{1}{\\sqrt{x+1}+1}\\).\nØ¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶ Ø¨Ù€ 0 Ù†Ø¬Ø¯: \\(1/(1+1) = 0.5\\)."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹: \\(f(x) = \\frac{x^2-9}{|x-3|}\\) Ø¹Ù†Ø¯Ù…Ø§ \\(x \\to 3^+\\).",
      a: ["6", "-6", "0", "ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©"], c: "6",
      hint: "Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ†ØŒ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ù…ÙˆØ¬Ø¨Ø©.",
      explain: "Ø¨Ù…Ø§ Ø£Ù† \\(x > 3\\) ÙØ¥Ù† \\(|x-3| = x-3\\).\nØ¨Ø§Ù„Ø§Ø®ØªØµØ§Ø± Ù†Ø¬Ø¯ \\(x+3\\)ØŒ ÙˆØ¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶ ØªÙƒÙˆÙ† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© 6."
    },
    {
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ©: \\(f(x) = \\sqrt{x^2+2x} - x\\) Ø¹Ù†Ø¯ \\(+\\infty\\).",
      a: ["1", "0", "2", "Ù„Ø§Ù†Ù‡Ø§ÙŠØ©"], c: "1",
      hint: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø±Ø§ÙÙ‚.",
      explain: "Ø¨Ø¹Ø¯ Ø§Ù„Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù„ØªØ¨Ø³ÙŠØ·: \\(\\frac{2x}{\\sqrt{x^2+2x}+x}\\).\nØ¨Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ x Ù†Ø¬Ø¯ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ³Ø§ÙˆÙŠ 1."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹: \\(f(x) = \\frac{\\sin^2 x}{x^2(1+\\cos x)}\\) Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ± Ù‡ÙŠ:",
      a: ["0.5", "1", "0", "2"], c: "0.5",
      hint: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø´Ù‡ÙŠØ±Ø© Ù„Ù€ \\(\\sin x / x\\).",
      explain: "Ù†ÙˆØ²Ø¹ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©: \\((\\frac{\\sin x}{x})^2 \\cdot \\frac{1}{1+\\cos x}\\).\nØ¨Ø§Ù„ØªØ¹ÙˆÙŠØ¶: \\(1^2 \\cdot 1/2 = 0.5\\)."
    },
    {
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ©: \\(f(x) = \\frac{2x + \\cos x}{x - 1}\\) Ø¹Ù†Ø¯ \\(+\\infty\\).",
      a: ["2", "1", "0", "Ù„Ø§Ù†Ù‡Ø§ÙŠØ©"], c: "2",
      hint: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¥Ø­Ø§Ø·Ø© Ø£Ùˆ Ø£Ø®Ø±Ø¬ x Ø¹Ø§Ù…Ù„Ø§Ù‹ Ù…Ø´ØªØ±ÙƒØ§Ù‹.",
      explain: "Ø¨Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ x: \\(\\frac{2 + (\\cos x)/x}{1 - 1/x}\\).\nØ¨Ù…Ø§ Ø£Ù† \\((\\cos x)/x \\to 0\\) Ø¨Ø§Ù„Ø¥Ø­Ø§Ø·Ø©ØŒ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ 2."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹: \\(f(x) = \\frac{x-1}{\\sqrt{x}-1}\\) Ø¹Ù†Ø¯ \\(x=1\\) Ù‡ÙŠ:",
      a: ["2", "1", "0", "0.5"], c: "2",
      hint: "Ø­Ù„Ù„ Ø§Ù„Ø¨Ø³Ø· ÙƒÙ…Ø·Ø§Ø¨Ù‚Ø© (ÙØ±Ù‚ Ù…Ø±Ø¨Ø¹ÙŠ Ø¬Ø°Ø±ÙŠÙ†).",
      explain: "Ø§Ù„Ø¨Ø³Ø· Ù‡Ùˆ \\((\\sqrt{x}-1)(\\sqrt{x}+1)\\).\nØ¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªØµØ§Ø± ØªØ¨Ù‚Ù‰ \\(\\sqrt{x}+1\\)ØŒ ÙˆØ¹Ù†Ø¯ 1 ØªØ³Ø§ÙˆÙŠ 2."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹: \\(f(x) = \\frac{\\tan x - \\sin x}{x^3}\\) Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ± Ù‡ÙŠ:",
      a: ["0.5", "0", "1", "1/3"], c: "0.5",
      hint: "Ø£Ø®Ø±Ø¬ \\(\\tan x\\) Ù…Ø´ØªØ±Ùƒ ÙˆØ§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†.",
      explain: "ØªØªØ­ÙˆÙ„ Ù„Ù€ \\(\\frac{\\tan x(1-\\cos x)}{x^3}\\).\nÙ†Ù‡Ø§ÙŠØ© Ø§Ù„Ø´Ù‡ÙŠØ±Ø© ØªØ¹Ø·ÙŠ \\(1 \\cdot 0.5 = 0.5\\)."
    },
    {
      q: "Ù…Ø§ Ù‡ÙŠ Ù†Ù‡Ø§ÙŠØ© \\(f(x) = \\sqrt{4x^2+x} + 2x\\) Ø¹Ù†Ø¯ \\(-\\infty\\)ØŸ",
      a: ["-0.25", "0", "0.25", "Ù„Ø§Ù†Ù‡Ø§ÙŠØ©"], c: "-0.25",
      hint: "Ø­Ø§Ù„Ø© \\(\\infty - \\infty\\) Ø§Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù†ØªØ¨Ù‡ Ù„Ø¥Ø´Ø§Ø±Ø© x.",
      explain: "Ø¨Ø§Ù„Ø¶Ø±Ø¨ Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚ Ù†Ø¬Ø¯: \\(\\frac{x}{\\sqrt{4x^2+x}-2x}\\).\nØ¨Ø¥Ø®Ø±Ø§Ø¬ x Ù…Ù† Ø§Ù„Ù…Ù‚Ø§Ù… (ØªØµØ¨Ø­ \\(-2x\\) Ù„Ø£Ù†Ù†Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø§Ù‚Øµ Ù„Ø§Ù†Ù‡Ø§ÙŠØ©): \\(\\frac{1}{-2-2} = -0.25\\)."
    },
    {
      q: "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹: \\(f(x) = \\frac{1-\\cos 4x}{x \\sin x}\\) Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ± Ù‡ÙŠ:",
      a: ["8", "4", "2", "16"], c: "8",
      hint: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø´Ù‡ÙŠØ±Ø© ÙˆÙ‚ÙˆØ§Ù†ÙŠÙ† Ø¶Ø¹Ù Ø§Ù„Ø²Ø§ÙˆÙŠØ©.",
      explain: "Ø§Ù„Ø¨Ø³Ø· ÙŠÙ‚ØªØ±Ø¨ Ù…Ù† \\(16x^2/2 = 8x^2\\)ØŒ ÙˆØ§Ù„Ù…Ù‚Ø§Ù… ÙŠÙ‚ØªØ±Ø¨ Ù…Ù† \\(x^2\\).\nØ¨Ø§Ù„Ù‚Ø³Ù…Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© 8."
    },
    {
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ© \\(f(x) = \\frac{x^2+1}{x^3-x}\\) Ø¹Ù†Ø¯ \\(+\\infty\\).",
      a: ["0", "1", "Ù„Ø§Ù†Ù‡Ø§ÙŠØ©", "-1"], c: "0",
      hint: "Ø¯Ø±Ø¬Ø© Ø§Ù„Ù…Ù‚Ø§Ù… Ø£ÙƒØ¨Ø± Ù…Ù† Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¨Ø³Ø·.",
      explain: "Ù†Ø£Ø®Ø° Ø§Ù„Ù…Ø³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ÙŠØ·Ø±: \\(x^2/x^3 = 1/x\\)ØŒ ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ ØµÙØ±."
    }
  ];

  const exercises = [
    {
      title: "ØªÙ…Ø±ÙŠÙ† 1: Ù…Ø¨Ø±Ù‡Ù†Ø© Ø§Ù„Ø¥Ø­Ø§Ø·Ø©",
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ© \\(f(x) = \\frac{x^2 \\sin(1/x)}{x+1}\\) Ø¹Ù†Ø¯ \\(+\\infty\\).",
      sol: "1. Ù†Ø¹Ù„Ù… Ø£Ù† \\(-1 \\leq \\sin(1/x) \\leq 1\\).\n2. Ù†Ø¶Ø±Ø¨ Ø¨Ù€ \\(\\frac{x^2}{x+1}\\): Ù†Ø¬Ø¯ Ø§Ù„ØªØ§Ø¨Ø¹ Ù…Ø­ØµÙˆØ± Ø¨ÙŠÙ† \\(\\frac{-x^2}{x+1}\\) Ùˆ \\(\\frac{x^2}{x+1}\\).\n3. Ø§Ù„Ø·Ø±ÙÙŠÙ† ÙŠØ³Ø¹ÙŠØ§Ù† Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©ØŒ Ù„ÙƒÙ† Ø§Ù„Ø¥Ø­Ø§Ø·Ø© Ù‡Ù†Ø§ ØºÙŠØ± ÙƒØ§ÙÙŠØ©ØŒ Ù†Ø³ØªØ®Ø¯Ù… ØªØºÙŠÙŠØ± Ø§Ù„Ù…ØªØ­ÙˆÙ„.\n4. Ø¨ÙØ±Ø¶ \\(t=1/x\\) Ù†Ø¬Ø¯ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ³Ø§ÙˆÙŠ 1."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 2: Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø±Ø¨Ø§Øª",
      q: "Ù„ÙŠÙƒÙ† Ø§Ù„ØªØ§Ø¨Ø¹ \\(f(x) = \\frac{x^2-1}{x-1}\\). Ù‡Ù„ ÙŠÙ‚Ø¨Ù„ Ù…Ù‚Ø§Ø±Ø¨Ø§Ù‹ Ø´Ø§Ù‚ÙˆÙ„ÙŠØ§Ù‹ Ø¹Ù†Ø¯ 1ØŸ",
      sol: "1. Ù†Ø­Ù„Ù„ Ø§Ù„Ø¨Ø³Ø·: \\((x-1)(x+1)\\).\n2. Ù†Ø®ØªØµØ± ÙÙŠØµØ¨Ø­ Ø§Ù„ØªØ§Ø¨Ø¹ \\(g(x) = x+1\\).\n3. Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¹Ù†Ø¯ 1 Ù‡ÙŠ 2 (Ù‚ÙŠÙ…Ø© Ù…Ù†ØªÙ‡ÙŠØ©).\n4. Ø§Ù„ØªØ§Ø¨Ø¹ Ù„Ø§ ÙŠÙ‚Ø¨Ù„ Ù…Ù‚Ø§Ø±Ø¨Ø§Ù‹ Ø´Ø§Ù‚ÙˆÙ„ÙŠØ§Ù‹ Ø¨Ù„ ÙŠÙˆØ¬Ø¯ ÙØ¬ÙˆØ© (Ø«Ù‚Ø¨) ÙÙŠ Ø§Ù„Ø®Ø· Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 3: Ù…Ø±Ø§ÙÙ‚ Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©",
      q: "Ø§Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ© \\(f(x) = \\sqrt[3]{x^3+1} - x\\) Ø¹Ù†Ø¯ \\(+\\infty\\).",
      sol: "1. Ù†Ø³ØªØ®Ø¯Ù… Ù…ØªØ·Ø§Ø¨Ù‚Ø© ÙØ±Ù‚ Ù…ÙƒØ¹Ø¨ÙŠÙ† ÙƒÙ‚Ø§Ù†ÙˆÙ† Ù„Ù„Ù…Ø±Ø§ÙÙ‚.\n2. Ù†Ø¬Ø¯ Ø£Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ¤ÙˆÙ„ Ù„Ø´ÙƒÙ„ ÙŠØ´Ø¨Ù‡ \\(1/x^2\\).\n3. Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ³Ø§ÙˆÙŠ ØµÙØ±."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 4: Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ§Øª",
      q: "Ù„ÙŠÙƒÙ† \\(f(x) = \\frac{\\sin x}{x}\\) Ø¹Ù†Ø¯Ù…Ø§ \\(x \\neq 0\\) Ùˆ \\(f(0)=1\\). Ù‡Ù„ Ø§Ù„ØªØ§Ø¨Ø¹ Ù…Ø³ØªÙ…Ø±ØŸ",
      sol: "1. Ù†Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ§Ø¨Ø¹ Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ±: \\(\\lim_{x \\to 0} \\frac{\\sin x}{x} = 1\\).\n2. Ø¨Ù…Ø§ Ø£Ù† Ø§Ù„Ù†Ù‡Ø§ÙŠØ© ØªØ³Ø§ÙˆÙŠ Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ§Ø¨Ø¹ Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ± \\(f(0)=1\\).\n3. Ø§Ù„ØªØ§Ø¨Ø¹ Ù…Ø³ØªÙ…Ø± Ø¹Ù†Ø¯ Ø§Ù„ØµÙØ±."
    },
    {
      title: "ØªÙ…Ø±ÙŠÙ† 5: Ù†Ù‡Ø§ÙŠØ© ØªØ§Ø¨Ø¹ Ù…Ø±ÙƒØ¨",
      q: "Ø£ÙˆØ¬Ø¯ Ù†Ù‡Ø§ÙŠØ© \\(f(x) = \\cos(\\frac{\\pi x}{2x+1})\\) Ø¹Ù†Ø¯ \\(+\\infty\\).",
      sol: "1. Ù†Ø­Ø³Ø¨ Ù†Ù‡Ø§ÙŠØ© Ù…Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ³Ø§ÙŠÙ† Ø£ÙˆÙ„Ø§Ù‹: \\(\\lim_{x \\to \\infty} \\frac{\\pi x}{2x+1} = \\pi/2\\).\n2. Ø¨Ù…Ø§ Ø£Ù† ØªØ§Ø¨Ø¹ Ø§Ù„ÙƒÙˆØ³Ø§ÙŠÙ† Ù…Ø³ØªÙ…Ø±ØŒ Ù†Ø£Ø®Ø° ÙƒÙˆØ³Ø§ÙŠÙ† Ø§Ù„Ù†Ø§ØªØ¬.\n3. \\(\\cos(\\pi/2) = 0\\). Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù‡ÙŠ ØµÙØ±."
    }
  ];

  let qIdx = 0, score = 0, quizTimer, qSec = 60, answered = false;

  // ÙˆØ¸ÙŠÙØ© Ø®Ù„Ø· Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function startQuizTimer() {
    clearInterval(quizTimer);
    qSec = 60;
    document.getElementById("quiz-timer").textContent = "â³ " + qSec;
    quizTimer = setInterval(() => {
      qSec--;
      document.getElementById("quiz-timer").textContent = "â³ " + qSec;
      if (qSec <= 0) { clearInterval(quizTimer); revealCorrect(); }
    }, 1000);
  }

  function loadQuestion() {
    answered = false;
    document.getElementById("next-btn").classList.add("hidden");
    const q = questions[qIdx];
    document.getElementById("q-count").textContent = (qIdx + 1) + " / " + questions.length;
    document.getElementById("question-text").innerHTML = q.q;
    document.getElementById("hint-box").style.display = "none";
    document.getElementById("hint-box").innerHTML = q.hint;
    
    const container = document.getElementById("options-container");
    container.innerHTML = "";
    
    // Ø®Ù„Ø· Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ù‚Ø¨Ù„ Ø¹Ø±Ø¶Ù‡Ø§
    const shuffledOptions = shuffle([...q.a]);
    
    shuffledOptions.forEach(opt => {
      const b = document.createElement("button");
      b.className = "btn opt";
      b.textContent = opt;
      b.onclick = () => checkAnswer(opt, q.c, b);
      container.appendChild(b);
    });
    
    document.getElementById("explain-box").style.display = "none";
    startQuizTimer();
    if (window.MathJax) MathJax.typesetPromise();
  }

  function checkAnswer(selected, correct, btn) {
    if (answered) return;
    answered = true;
    clearInterval(quizTimer);
    if (selected === correct) {
      score++;
      btn.classList.add("correct");
    } else {
      btn.classList.add("wrong");
    }
    revealCorrect();
  }

  function revealCorrect() {
    const q = questions[qIdx];
    document.querySelectorAll(".opt").forEach(btn => {
      btn.disabled = true;
      if (btn.textContent === q.c) btn.classList.add("correct");
    });
    const exp = document.getElementById("explain-box");
    exp.innerHTML = "<strong>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ù„:</strong><br>" + q.explain.replace(/\n/g, "<br>");
    exp.style.display = "block";
    document.getElementById("next-btn").classList.remove("hidden");
    if (window.MathJax) MathJax.typesetPromise();
  }

  document.getElementById("next-btn").onclick = () => {
    qIdx++;
    if (qIdx < questions.length) loadQuestion();
    else showResult();
  };

  function showResult() {
    document.getElementById("quiz-card").classList.add("hidden");
    document.getElementById("result-card").classList.remove("hidden");
    document.getElementById("score-line").textContent = `Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† ${questions.length}`;
  }

  document.getElementById("hint-icon").onclick = () => {
    const box = document.getElementById("hint-box");
    box.style.display = box.style.display === "block" ? "none" : "block";
  };

  let exIdx = 0;
  document.getElementById("to-exercises-btn").onclick = () => {
    document.getElementById("result-card").classList.add("hidden");
    document.getElementById("exercise-card").classList.remove("hidden");
    loadExercise();
  };

  function loadExercise() {
    const ex = exercises[exIdx];
    document.getElementById("ex-title").innerHTML = ex.title;
    document.getElementById("ex-question").innerHTML = ex.q;
    const sol = document.getElementById("ex-solution");
    sol.innerHTML = ex.sol.replace(/\n/g, "<br>");
    sol.style.display = "none";
    if (window.MathJax) MathJax.typesetPromise();
  }

  document.getElementById("show-solution-btn").onclick = () => {
    document.getElementById("ex-solution").style.display = "block";
    if (window.MathJax) MathJax.typesetPromise();
  };

  document.getElementById("next-exercise-btn").onclick = () => {
    exIdx++;
    if (exIdx < exercises.length) loadExercise();
    else {
      document.getElementById("next-exercise-btn").classList.add("hidden");
      document.getElementById("finish-btn").classList.remove("hidden");
    }
  };

  loadQuestion();
</script>
</body>
</html>
